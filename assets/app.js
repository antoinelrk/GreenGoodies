import './styles/app.css';document.addEventListener('DOMContentLoaded',()=>{const popup=document.querySelector('#confirmPopup');const dialog=document.querySelector('#confirmDialog');const msgEl=document.querySelector('#confirmMessage');const btnOk=document.querySelector('#confirmOk');const btnNo=document.querySelector('#confirmCancel');let currentForm=null;let lastFocused=null;const open=(message,form)=>{currentForm=form||null;lastFocused=document.activeElement;if(message)msgEl.textContent=message;popup.classList.remove('hidden');btnOk.focus();document.body.classList.add('overflow-hidden')};const close=()=>{popup.classList.add('hidden');document.body.classList.remove('overflow-hidden');if(lastFocused)lastFocused.focus();currentForm=null};document.querySelectorAll('.js-confirm').forEach(btn=>{btn.addEventListener('click',()=>{const form=btn.dataset.form?document.querySelector(btn.dataset.form):btn.closest('form');if(!form)return;const message=btn.dataset.message||'Es-tu sÃ»r ?';open(message,form)})});btnNo.addEventListener('click',close);btnOk.addEventListener('click',()=>{if(currentForm)currentForm.submit();});popup.addEventListener('click',(e)=>{if(!dialog.contains(e.target))close();});window.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&!popup.classList.contains('hidden')){close()}})})
